"use strict";(self.webpackChunkpuls=self.webpackChunkpuls||[]).push([[667],{7877:function(e,t,o){o.d(t,{BL:function(){return d},Ix:function(){return i},Ne:function(){return f},e4:function(){return h},m3:function(){return m},sT:function(){return p},yl:function(){return g}});var r=o(7467),n=o.n(r),a=o(1158);let l=(0,o(6369).E)();const u=n().create({baseURL:"http://"+(l.config.api||"127.0.0.1")+":3000/api",timeout:5e3});u.interceptors.request.use((e=>{let t=s("token");return e.headers["x-token"]=t,e}),(e=>(a.ElMessage.error("拦截器异常"),Promise.reject(e)))),u.interceptors.response.use((e=>0===e.data.code?e.data.data:(a.ElMessage.error(e.data.msg),Promise.reject(e))),(e=>(a.ElMessage.error(e),Promise.reject(e))));const c=e=>{let{url:t,params:o,data:r,loading:n=!0}=e;return u({url:t,method:r?"post":"get",params:o,data:r})};let s=e=>{if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!==t){t=t+e.length+1;var o=document.cookie.indexOf(";",t);return-1===o&&(o=document.cookie.length),unescape(document.cookie.substring(t,o))}}return localStorage.getItem(e)};const i=e=>c({url:"DeviceList",params:e}),d=e=>c({url:"start",data:e}),p=e=>c({url:"stop",data:e}),f=e=>c({url:"OpenUri",data:e}),m=e=>c({url:"KTLogin",data:e}),g=e=>c({url:"UpdateConfig",data:e}),h=e=>c({url:"Test",data:e})},6978:function(e,t,o){o.r(t),o.d(t,{default:function(){return f}});var r=o(311),n=o.p+"img/icon.4925d938.png",a=o(6369),l=o(7877),u=o(2686);const c=e=>((0,r.pushScopeId)("data-v-3ef6f07e"),e=e(),(0,r.popScopeId)(),e),s={class:"login f1 p15 r15"},i=c((()=>(0,r.createElementVNode)("h2",{style:{color:"#000"}},"熙宝科技",-1))),d=c((()=>(0,r.createElementVNode)("img",{class:"logo m15 r50",src:n},null,-1)));var p={__name:"login",setup(e){let t=(0,a.E)(),o=t.config,n=(0,r.ref)(!1);(0,r.onMounted)((async()=>{const e="http://".concat(o.api||"127.0.0.1",":3000/api/DeviceList");200===(await fetch(e)).status&&(n.value=!0)}));let c=()=>{setTimeout((()=>{u.Z.push("home")}),5e3)};return(e,a)=>{const u=(0,r.resolveComponent)("el-input"),p=(0,r.resolveComponent)("el-form-item"),f=(0,r.resolveComponent)("el-form"),m=(0,r.resolveComponent)("el-button");return(0,r.openBlock)(),(0,r.createElementBlock)("div",s,[i,d,(0,r.createVNode)(f,{model:(0,r.unref)(o),"label-position":"top",style:{width:"70%"}},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(p,{label:"脚本服务端"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(u,{modelValue:(0,r.unref)(o).api,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,r.unref)(o).api=e),placeholder:"默认本机ip地址"},null,8,["modelValue"])])),_:1}),(0,r.createVNode)(p,{label:"授权卡密"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(u,{modelValue:(0,r.unref)(o).pjkey,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,r.unref)(o).pjkey=e),placeholder:"请输入卡密"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,r.createVNode)(m,{type:"primary",class:"m15",style:{width:"70%",height:"45px"},onClick:a[2]||(a[2]=e=>((0,r.unref)(l.yl)({data:(0,r.unref)(t).config}),(0,r.unref)(c)())),disabled:!(0,r.unref)(n)||""==(0,r.unref)(o).pjkey},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)("立即登录")])),_:1},8,["disabled"]),(0,r.createElementVNode)("p",{style:(0,r.normalizeStyle)({color:(0,r.unref)(n)?"#6A6AFF":"red"})},(0,r.toDisplayString)((0,r.unref)(n)?"服务端连接成功":"连接失败请启动脚本程序"),5)])}}};var f=(0,o(89).Z)(p,[["__scopeId","data-v-3ef6f07e"]])}}]);